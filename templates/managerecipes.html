{% extends 'base.html' %}
{% block document %}
  <title>Manage Your Recipes | OneTwoCook</title>
  <div class="background responsive-img">
    <div class="container">
      <div class="card-panel managerecipe-border">
        <div class="row">
          <div class="col s12">
            <h2>Manage Your Recipes</h2>
            {% if recipes %}
              {% for recipe in recipes %}
                <div class="col s12 m6 l6">
                  <div class="card">
                    <div class="card-image waves-effect waves-block">
                      <a href="{{url_for('load_recipe', recipe_name = recipe.recipe_name)}}">
                        <img class="responsive-img" src="../../static/images/{{recipe.img_path | default('placeholder_image.png')}}" alt={{recipe.recipe_name}} >
                      </a>
                    </div>
                    <div class="card-content">
                      <span class="card-title activator grey-text text-darken-4"><i class="material-icons right">more_vert</i></span>
                      <a class="link" href="{{url_for('load_recipe', recipe_name = recipe.recipe_name)}}">
                        <h5 class="truncate">{{recipe.recipe_name}}</h5>
                      </a>
                    </div>
                    <div class="card-reveal">
                      <span class="card-title grey-text text-darken-4">
                        <i class="material-icons right">close</i>
                        <h4>{{recipe.recipe_name}}</h4>
                        <hr>
                      </span>
                      <p>{{recipe.recipe_summary}}</p>
                      <div class="col-12">
                        <a href="{{url_for('edit_recipe', recipe_id = recipe._id)}}" class="btn halfway-fab waves-effect grey lighten-2">Edit<i class="material-icons">edit</i></a>
                        <a href="{{url_for('delete_recipe', recipe_id = recipe._id)}}" class="btn halfway-fab waves-effect waves-light red">Delete<i class="material-icons">delete</i></a>
                      </div>
                    </div>
                  </div>
                </div>
                {% else %}
                  <p class="text"><b>{{ session['username'] }}, you have not yet created any recipes.</b></p>
                  <p class="text"><a href="{{url_for('add_recipe')}}">Ready to create one?</a></p>
              {% endfor %}
            {% endif %}
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <h3>Created Cuisine Types</h3>
            {% if cuisines %}
              {% for cuisine in cuisines %}
                <div class="col s12 m6 l6">
                  <div class="card">
                    <div class="card-image waves-effect waves-block">
                      <a href="">
                        <img class="responsive-img" src="" alt={{cuisine.cuisine_type}} >
                      </a>
                    </div>
                    <div class="card-content">
                      <span class="card-title activator grey-text text-darken-4"><i class="material-icons right">more_vert</i></span>
                      <a class="link" href="">
                        <h5 class="truncate">{{cuisine.cuisine_type}}</h5>
                      </a>
                    </div>
                    <div class="card-reveal">
                      <span class="card-title grey-text text-darken-4">
                        <i class="material-icons right">close</i>
                        <h4>{{cuisine.cuisine_type}}</h4>
                        <hr>
                      </span>
                      <p>{{cuisine.cuisine_summary}}</p>
                      <div class="col-12">
                        <a href="{{url_for('delete_cuisine', cuisine_id = cuisine._id)}}" class="btn halfway-fab waves-effect waves-light red">Delete<i class="material-icons">delete</i></a>
                      </div>
                    </div>
                  </div>
                </div>
                {% else %}
                  <p><b>You have not created any cuisines.</b></p>
              {% endfor %}
            {% endif %}
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col s12">
            <h3>Saved Recipes</h3>
            {% if recipes %}
              {% for recipe in recipes %}
                <div class="card">
                  <span class="card-title">{{recipe.recipe_name}}</span>
                  <div class="card-content">
                    <p>{{recipe.recipe_name}}</p>
                  </div>
                </div>
                {% else %}
                  <p><b>You have no saved recipes.</b></p>
                  <p>To save a recipe click on <a class="btn"><i class="material-icons">thumb_up</i></a> 
                  by the title of a recipe and the recipes you liked will appear in this section.</p>
              {% endfor %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}